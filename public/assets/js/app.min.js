if(!document.referrer&&localStorage.getItem("appState")&&document.URL!=localStorage.getItem("appState")){location.href=localStorage.getItem("appState")}$(function(){localStorage.setItem("appState",document.URL);$("#backButton").on("click",function(){if($.trim($(this).attr("href"))=="#"&&document.referrer){location.href=document.referrer;return false}});$(document).ajaxStart(function(){loader("on")});$(document).ajaxStop(function(){loader("off")});$(document).ajaxError(function(b,c,a){appError(b,c,a)});$("a").on("click",function(){loader("on")})});var loader=function(c){var b=$("#loader");var a=$("#siteWrapper");switch(c){case"on":b.fadeIn(100);a.css("opacity",0.3);break;case"off":b.fadeOut(100);a.css("opacity",1);break}};var appError=function(c,d,b){var a=JSON.stringify(d.responseText).replace(/"/g,"");alert(a)};var setHoleState=function(c,a){var b=$("#prevHoleButton");var d=$("#nextHoleButton");if(c.firstHole){b.hide()}else{b.fadeIn()}$("#holeNumber").text(c.hole.num);b.find(".val").text(parseInt(c.hole.num)-1);d.find(".val").text(parseInt(c.hole.num)+1);if(c.hole.par){$("#holePar").text("par: "+c.hole.par)}if(c.hole.hcp){$("#holeHcp").text("/ hcp: "+c.hole.hcp)}localStorage.setItem("activeHole",c.hole.id);$.each(c.players,function(f){var e=$("#player_"+this.id);var g=false;if(e.length){g=e}else{g=$("#scoreTemplate").clone();g.removeAttr("id").attr("id","player_"+this.id);g.data("player-id",this.id).find(".name").text(this.firstname+" "+this.lastname).end();$("#scoreInput").append(g)}if(this.score){g.find(".result").val(this.score)}else{g.find(".result").val("").end().find("input").attr("placeholder",this.hcp)}if(this.total_score){g.find(".total").text(this.total_score)}else{g.find(".total").text("0")}})};(function(h,g,l){if(l in g&&g[l]){var k,j=h.location,i=/^(a|html)$/i;h.addEventListener("click",function(b){k=b.target;while(!i.test(k.nodeName)){k=k.parentNode}"href" in k&&(k.href.indexOf("http")||~k.href.indexOf(j.host))&&(b.preventDefault(),j.href=k.href)},!1)}})(document,window.navigator,"standalone");